<main class="mdl-layout__content" layout="column" ng-init="getAllCategories(); filterAllListingForApproval()">
    <!-- initializeAllListingForApproval(); -->
    <div flex class="md-padding">
        <div layout="column" class="md-whiteframe-z5" flex-sm- "100" flex-gt-sm="100" flex-gt-md="100" flex-gt-lg="100" style="margin-top:65px" ng-show="allListings.length">
            <md-content layout="row">
                <md-content layout="row" flex="70" layout-align="left center" class="border-bottom">
                    <h5 style="margin-left:15px;">VIEW LISTING FOR APPROVAL</h5>
                </md-content>
                <md-content layout="row" flex="30" layout-align="center end" class="border-bottom">
                    <md-input-container style="width:150px;">
                        <label class="glyphicon glyphicon-search" style="color: #666666; font-size: 16px;"> Search...</label>
                        <input ng-model="searchtxt" ng-change="filterAllListingForApproval()">
                    </md-input-container>
                </md-content>
            </md-content>
            <md-content layout="row" layout-align="space-around center">
                <div>
                    <md-select placeholder="User Type" style="width:150px;" ng-model="sel_user_type" ng-change="filterAllListingForApproval();">
                        <md-option value="All">All</md-option>
                        <md-option value="dealer">Dealer</md-option>
                        <md-option value="user">User</md-option>
                        <md-option value="admin">Admin</md-option>
                    </md-select>
                </div>
                <div>
                    <md-select placeholder="Category" style="width:250px;" ng-model="sel_cid" ng-change="filterAllListingForApproval();">
                        <md-option ng-value="24">All</md-option>
                        <md-option ng-repeat="cat in categoriesDetails" ng-value="cat.category_id">{{cat.category}}</md-option>
                    </md-select>
                </div>
                <div>
                    <md-select placeholder="Status" style="width:150px;" ng-model="sel_status" ng-change="filterAllListingForApproval();">
                        <md-option value="All">All</md-option>
                        <md-option value="active">Active</md-option>
                        <md-option value="inactive">Inactive</md-option>
                    </md-select>
                </div>
                <div>
                    <md-select placeholder="Locality" style="width:200px;" ng-model="locality">
                        <md-option selected value="Delhi NCR">Delhi NCR</md-option>
                    </md-select>
                </div>
            </md-content>
            <md-content layout-padding>
                <table class="table table-bordered table-striped table-hover listinglist" style="margin-bottom:20px;">
                    <thead>
                        <tr>
                            <th>Listing Id</th>
                            <th>Listing Name</th>
                            <th>Locality</th>
                            <th>Category</th>
                            <th>Primary Phone No.</th>
                            <th>User Type</th>
                            <th>Status</th>
                            <th>View/Edit</th>
                        </tr>
                    </thead>
                    <tbody infinite-scroll="scrollAllListingForApproval()">
                        <tr ng-repeat="list in allListings">
                            <td class="capitalize">{{list.listing_id}}</td>
                            <td class="capitalize">{{list.business_name}}</td>
                            <td class="capitalize">{{list.location}}</td>
                            <td class="capitalize">{{list.category}}</td>
                            <td>{{list.phone_no}}</td>
                            <td class="capitalize">{{list.role}}</td>
                            <td class="capitalize">{{list.status}}</md-select>
                                <td>
                                    <md-button class="md-raised md-primary" ng-click="viewListingDetailsForApproval(list.listing_id)">View Details</md-button>
                                </td>
                        </tr>
                    </tbody>
                </table>
                <div class="infinite-wrapper" ng-show="infiniteLoader">
                    <img src="assets/img/infinite_loader.gif">
                </div>
            </md-content>
        </div>
        <div layout="column" class="md-whiteframe-z5" flex-sm- "100" flex-gt-sm="100" flex-gt-md="100" flex-gt-lg="100" style="margin-top:65px" ng-show="!allListings.length">
            <md-content flex="100" layout="column" layout-align="center center" style="border:1px solid #000;min-height:500px;" >
                <span><h5><b>You Have No List For Approval.  To Go To Home <a href="#/home">Click Here</a> </b></h5></span>
                </md-content> 
        </div>
    </div>
</main>
